<%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/forms.css">
    <link rel="stylesheet" href="/css/product.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <style>
        input[type=text],[type=number], [type=date],[type=file],select, textarea,.selected{
  width: 100%;
  padding: 9px;
  border: 1px solid rgb(73, 73, 73);
  border-radius: 4px;
  resize: vertical;
}

.layout2
{
    background-color: white;
}

.gradient-custom-3 {
  /* fallback for old browsers */
  background: #84fab0;

  /* Chrome 10-25, Safari 5.1-6 */
  background: -webkit-linear-gradient(to right, rgba(132, 250, 176, 0.5), rgba(143, 211, 244, 0.5));

  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
  background: linear-gradient(to right, rgba(132, 250, 176, 0.5), rgba(143, 211, 244, 0.5))
}
.gradient-custom-4 {
  /* fallback for old browsers */
  background: #84fab0;

  /* Chrome 10-25, Safari 5.1-6 */
  background: -webkit-linear-gradient(to right, rgba(132, 250, 176, 1), rgba(143, 211, 244, 1));

  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
  background: linear-gradient(to right, rgba(132, 250, 176, 1), rgba(143, 211, 244, 1))
}

.rightside{
margin-left:25%;
}
    </style>
    </head>

    <body>
        <%- include('../includes/navigation.ejs') %>
        <section class="vh-300 bg-image" style="background-image: url('https://mdbcdn.b-cdn.net/img/Photos/new-templates/search-box/img4.webp');">
            <div class="mask d-flex align-items-center h-200 gradient-custom-3">
                <div class="container-fluid h-200">
                    
            <main class="layout">
                <% if (errorMessage) { %>
                    <div class="user-message user-message--error">
                        <%= errorMessage %>
                    </div>
                    <% } %>
                        <form class="product-form" action="/admin/<% if (editing) { %>edit-event<% } else { %>add-event<% } %>" method="POST" enctype="multipart/form-data">
                            <h1 class="text-center">Add Event</h1>
                            <br>
                            <div class="row">
                            <div class="col">
                                <div >
                                    <label for="title">Official Body</label>
                                    <input class="<%= validationErrors.find(e => e.param === 'officialBody') ? 'invalid' : '' %>" type="text" name="officialBody" id="title" value="<% if (editing || hasError) { %><%= product.officialBody %><% } %>">
                                </div>
                            
                                <!-- <div >
                    <label for="imageUrl">Image URL</label>
                    <input 
                        class="<%= validationErrors.find(e => e.param === 'imageUrl') ? 'invalid' : '' %>"
                        type="text" 
                        name="imageUrl" 
                        id="imageUrl" 
                        value="<% if (editing || hasError) { %><%= product.imageUrl %><% } %>">
                </div> --><br>
                                <div >
                                    <label for="image">Image</label>
                                    <input type="file" name="image" id="image">
                                </div>
                                <br>
                                <div >
                                    <label for="title">Event name</label>
                                    <input class="<%= validationErrors.find(e => e.param === 'title') ? 'invalid' : '' %>" type="text" name="title" id="title" value="<% if (editing || hasError) { %><%= product.title %><% } %>">
                                </div>
                                <br>
                                <div >
                                    <label for="price">Start Date</label>
                                    <input class="<%= validationErrors.find(e => e.param === 'startdate') ? 'invalid' : '' %>" type="date" data-date-format="DD MMMM YYYY" name="startdate" id="price" step="0.01" value="<% if (editing || hasError) { %><%= product.startdate %><% } %>">
                                </div>
                                <br>
                                <div >
                                    <label for="price">End Date</label>
                                    <input class="<%= validationErrors.find(e => e.param === 'enddate') ? 'invalid' : '' %>" type="date" data-date-format="DD MMMM YYYY" name="enddate" id="price" step="0.01" value="<% if (editing || hasError) { %><%= product.enddate %><% } %>">
                                </div>
                                <br>
                                <div class="col-md-6 mb-4 selected">
                    
                                    <select name="status" class="form-select">
                                 
                                      <option  value="upcoming">Upcoming Event</option>
                                      <option selected value="open">Open Event</option>
                                      <option value="close">Close Event</option>
                                     
                                    </select>
                
                                  </div>
                            </div>
                            <div class="col">
                                
                                
                                <div >
                                    <label for="title">Event Coordinator 1</label>
                                    <input class="<%= validationErrors.find(e => e.param === 'co_name1') ? 'invalid' : '' %>" type="text" name="co_name1" id="title" value="<% if (editing || hasError) { %><%= product.co_name1 %><% } %>">
                                </div><br>
                                <div >
                                    <label for="title">Mobile No </label>
                                    <input class="<%= validationErrors.find(e => e.param === 'co_mobile1') ? 'invalid' : '' %>" type="number" name="co_mobile1" id="title" value="<% if (editing || hasError) { %><%= product.co_mobile1 %><% } %>">
                                </div><br>
                                <div >
                                    <label for="title">Event Coordinator 2</label>
                                    <input class="<%= validationErrors.find(e => e.param === 'co_name2') ? 'invalid' : '' %>" type="text" name="co_name2" id="title" value="<% if (editing || hasError) { %><%= product.co_name2 %><% } %>">
                                </div><br>
                                <div >
                                    <label for="title">Mobile No</label>
                                    <input class="<%= validationErrors.find(e => e.param === 'co_mobile2') ? 'invalid' : '' %>" type="number" name="co_mobile2" id="title" value="<% if (editing || hasError) { %><%= product.co_mobile2 %><% } %>">
                                </div><br>
                                <div >
                                    <label for="description">Event Description</label>
                                    <textarea class="<%= validationErrors.find(e => e.param === 'description') ? 'invalid' : '' %>" name="description" id="description" rows="5"><% if (editing || hasError) { %><%= product.description %><% } %></textarea>
                                </div>
                            </div>
                            </div>

                            <input class="<%= validationErrors.find(e => e.param === 'title') ? 'invalid' : '' %>" type="hidden" name="up1" id="title" value="<% if (editing || hasError) { %><%= product.title %><% } %>">
                            <input class="<%= validationErrors.find(e => e.param === 'status') ? 'invalid' : '' %>" type="hidden" name="up2" id="title" value="<% if (editing || hasError) { %><%= product.officialBody %><% } %>">
                            <input class="<%= validationErrors.find(e => e.param === 'description') ? 'invalid' : '' %>" type="hidden" name="up3" id="title" value="<% if (editing || hasError) { %><%= product.description %><% } %>"> 

                            <% if (editing) { %>
                                <input type="hidden" value="<%= product._id %>" name="productId">
                                <% } %>
                                <br>
                                    <input type="hidden" name="_csrf" value="<%= csrfToken %>">
                                    <button class="btn-success" type="submit"><% if (editing) { %>Update Event<% } else { %>Add Event<% } %></button>
                                    <br> <br>
                        </form>
            </main>
            </div>
            <br><br>
            </div>
           
            </section>
            
            <%- include('../includes/end.ejs') %>